# Django Web Witcher
 Данный проект является моим результатом изучения Python и Django в частности. Суть проекта - реализация пошаговой игры ["Ведьмак"](https://github.com/staywithme47/the_witcher_project) в формате веб-сайта с использованием различных технологий и инструментов (AJAX, JQuery,CSS, HTML, Django ORM, Rest API и т.д.)
 
 Суть игры заключается в создании своего персонажа (Ведьмака) и его противников с целью дальнейшего их уничтожения. 
 
 Главный герой (Ведьмак) наделен несколькими способностями и зельями (Сильная атака, уклонение, зелья для лечения или усиления атаки), а так же может использовать магические знаки(Квен-щит, Аксий - заставляет врагов атаковать друг друга и т.д.). Враги же в свою очередь (в зависимости от типа), так же наделены способностями (уклонение, обродряющий клич и т.д.) и могут их использовать в зависимости от ситуации. Главный герой (Ведьмак), побеждает в случае уничтожения всех противников, в противном случае - поражение.
 
 
 ---
 ```
 Способности Ведьмака:
 
  1. Быстрая атака - обычная атака главного героя, урон рассчитывается по формуле: (30 * уровень Ведьмака)*1.5
  2. Сильная атака - сильная атака по противникам, урон рассчитывется по формуле: (30 * уровень Ведьмака) * 2, можно использовать раз в три хода
  3. Уклонение - Ведьмак пытается уклониться от следующих атак противника снижая их точность, но при этом Ведьмак не наносит урона противникам.
 
 
 Знаки:
 
 Знаки - аналог магии, могут как наносить урон, так и защищать Ведьмака
 
 1. Аксий - знак позволяющий одурманить противника, заставляя его атаковать своих товарищей, расходует 90 энергии знаков (макс. энергии 100)
 2. Игни - знак позволяющий атаковать огнем всех противников одновременно, урон рассчитывается по формуле: 25 * уровень Ведьмака, расходует 85 энергии знаков (макс. энергии 100)
 3. Квен - знак позволяющий защитить Ведьмака щитом, щит рассчитывается по формуле: 60*уровень Ведьмака, расходует 70 энергии знаков (макс. энергии 100)
 
 
 Зелья:
 
 Зелья позволяют Ведьмаку восполнять здоровье, усиливать атаки или ускорять восполнение энергии знаков
 
 1. Ласточка - зелье постепенно восстанавливающее здоровья Ведьмака. Восстановление здоровья рассчитывается по формуле: 20*уровень Ведьмака / за ход, кол-во ходов - 5. Количество зелий - 2
 2. Гром - зелье усиливающее атаку Ведьмака в 1,5 раза сроком на 5 ходов. Количество зелий - 2
 3. Неясыть - зелье постепенно восстанавливающее энергию знаков. Восстановление энергии рассчитывается по формуле: 20 * 1.5 энергии / за ход, кол-во ходов - 5. Количество зелий - 2 
 ```
 ---
 
 
 *Страница создания персонажа и его противников выглядит следующим образом*:
 
 ![image](https://user-images.githubusercontent.com/69643765/154846515-8f04fce9-35b4-4a28-893f-710274d7654c.png)

 ---
 ```
 Реализацию процесса игры можно описать следующим образом:
 1. Во время создания персонажа и противников в БД создаются модели главного героя (Ведьмака) и его противников. Тип противников выбирается случайным образом. В зависимости от типа противников изменяются их способности.
 2. Пользователю присваивается session key и сохраняются cookies с помощью Django sessions, таким образом, если пользователь не завершил игру самостоятельно, либо не победил/проиграл, пользователь может вернуться на сайт и продолжить игру. Срок хранения cookies оставлен по умолчанию.
 3. После создания моделей начинается игра. Каждое действие игрока введенное в специальную форму отправляется на back-end без перезагрузки страницы с помощью AJAX запросов. В зависимости от действия пользователя запускается функция, рассчитывающая урон, уклонение или использование знаков / зелий. После обработки действия пользователя и получения результатов хода игрока и противников, модели в БД перезаписываются и изменяются их параметры в соответсвии с полученным уроном, использованным зельем или способностью.
 4. С помощью AJAX запрашиваются перезаписанные в БД модели. Обновляется рендер страницы с измененными параметрами.
 5. В случае, если здоровье Ведьмака или всех противников опускается до 0, запускается функция, отвечающая за завершение игры. В зависимости от исхода боя (проиграл Ведьмак или выиграл), рендерится страница с необходимым исходом игры(победа или поражение). По окончании игры все участвующие в сессии модели удаляются из БД.
 
 ```
 ---

*Страница активной фазы игры, с указанием состояния главного героя и противников выглядит следующим образом:*

![image](https://user-images.githubusercontent.com/69643765/154846561-1cb206a6-6c17-4725-a649-043b5f090347.png)
